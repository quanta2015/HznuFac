import React, { useState, useRef } from 'react';import { inject, observer } from 'mobx-react'// import classnames from 'classnames';// import {API_SERVER} from '@/constant/apis'import s from './index.module.less';import { useNavigate } from 'react-router-dom'// import cls from 'classnames';import logo from '@/img/logo-w.svg'import sys from '@/img/system.svg'import inst from '@/img/instgram.svg'import list from '@/img/list.svg'import map from '@/img/map.svg'import user from '@/img/user.svg'import logout from '@/img/logout.svg'const Menu = () => {    const menuRef = useRef(null);    const navigate = useNavigate();    const [show, setShow] = useState(false);    const doToggleMenu = () => {      if (show) {        if (menuRef.current) {          menuRef.current.classList.remove('show');        }        requestAnimationFrame(() => {          setShow(false);        });      } else {        setShow(true);        requestAnimationFrame(() => {          if (menuRef.current) {            menuRef.current.classList.add('show');          }        });      }    }    const doDev = () => {      navigate('/res')    }    const doHome = () => {      navigate('/nav')    }    const doMapp = () => {      navigate('/mapp')    }    const doField = () => {      navigate('/sensorField')    }    return (        <div className={s.menu}>      <div className={s.logo}>        <img src={logo} alt="" />      </div>            <div className={s.btn} onClick={doToggleMenu}>        <img src={sys} alt="" />        {show &&         // <div ref={menuRef} className={cls(s.wrap,show?'show':'hidden')}>          <div ref={menuRef} className={s.wrap}>            <div className={s.sect}>            <h1>能源管理系统</h1>            <div className={s.row}>              <div className={s.item} onClick={doMapp}>                <img src={inst} alt="" />                <span>系统数据配置</span>              </div>              <div className={s.item} onClick={doField} >                <img src={map} alt="" />                <span>网关数据管理</span>              </div>              <div className={s.item} onClick={doDev}>                <img src={list} alt="" />                <span>设备数据管理</span>              </div>              <div className={s.item}>                <img src={list} alt="" />                <span>设备表头管理</span>              </div>                          </div>          </div>          <div className={s.sect}>            <h1>设备管理系统</h1>            <div className={s.row}>              <div className={s.item}>                <img src={inst} alt="" />                <span>设备数据管理</span>              </div>              <div className={s.item}>                <img src={inst} alt="" />                <span>报修预警系统</span>              </div>              <div className={s.item}>                <img src={inst} alt="" />                <span>维修师傅管理</span>              </div>              <div className={s.item}>                <img src={inst} alt="" />                <span>下派工单系统</span>              </div>              <div className={s.item}>                <img src={inst} alt="" />                <span>维修保养系统</span>              </div>            </div>          </div>          <div className={s.sect}>            <h1>系统监控平台</h1>            <div className={s.row}>              <div className={s.item}>                <img src={inst} alt="" />                <span>系统数据配置</span>              </div>            </div>          </div>          <div className={s.sect}>            <h1>系统管理</h1>            <div className={s.row}>              <div className={s.item} onClick={doHome}>                <img src={user} alt="" />                <span>系统首页</span>              </div>              <div className={s.item}>                <img src={user} alt="" />                <span>用户管理</span>              </div>              <div className={s.item}>                <img src={logout} alt="" />                <span>退出登录</span>              </div>            </div>          </div>        </div>}      </div>    </div>  )}export default inject('store')(observer(Menu))